:root {
  --services-grid-veil-gradient: linear-gradient(
    140deg,
    color-mix(in oklab, var(--smh-keyline-gold) 6%, transparent) 0%,
    transparent 68%,
    color-mix(in oklab, var(--smh-keyline-gold) 3%, transparent) 100%
  );
  --services-grid-polish: url('/assets/champagne/brand-polish/wave-gold-dust.png');
  --services-grid-polish-opacity: 0.08;
  --services-grid-card-sheen: url('/assets/champagne/brand-polish/glass-reflect.svg');
  --services-grid-light-overlay: url('/assets/champagne/brand-polish/wave-light-overlay.webp');
}

.servicesGrid {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  background: color-mix(in oklab, var(--smh-surface-glass) 92%, white);
  color: var(--smh-text);
  padding-block: clamp(4rem, 10vw, 7rem);
  --smh-hero-particles-opacity: 0.06;
  --smh-hero-grain-opacity: 0.07;
}

.servicesGrid::before {
  display: none;
}

.servicesGrid::after {
  display: none;
}

.servicesGrid__backdrop {
  display: none;
}

.servicesGrid__container {
  position: relative;
  z-index: 1;
  margin: 0 auto;
  width: min(100%, 1180px);
  padding-inline: clamp(1.5rem, 5vw, 3rem);
  display: flex;
  flex-direction: column;
  gap: clamp(2.5rem, 5vw, 3.5rem);
}

.servicesGrid__intro {
  max-width: 640px;
  display: grid;
  gap: 1rem;
}

.servicesGrid__eyebrow {
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  gap: 0.5rem;
  padding-inline: 1rem;
  padding-block: 0.35rem;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--smh-keyline-gold) 40%, transparent);
  background: color-mix(in oklab, var(--smh-surface-glass) 80%, transparent);
  font-size: 0.85rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: color-mix(in oklab, var(--smh-text) 78%, white);
}

.servicesGrid__title {
  margin: 0;
  font-family: var(--font-playfair), Georgia, serif;
  font-size: clamp(2.5rem, 4vw, 3.25rem);
  line-height: 1.1;
  letter-spacing: -0.01em;
  margin-bottom: 1.5rem;
}

.servicesGrid__description {
  margin: 0;
  font-size: 1.05rem;
  line-height: 1.6;
  color: color-mix(in oklab, var(--smh-text) 82%, white);
}

.servicesGrid p {
  line-height: 1.6;
}

.servicesGrid__layout {
  display: grid;
  gap: clamp(1.5rem, 4vw, 2.5rem);
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.servicesGrid__card {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: clamp(1.5rem, 4vw, 2rem);
  border-radius: 1.75rem;
  border: 1px solid color-mix(in oklab, var(--smh-keyline-gold) 35%, transparent);
  background: color-mix(in oklab, var(--smh-surface-glass) 94%, white);
  box-shadow: 0 24px 48px color-mix(in oklab, var(--smh-surface-ink) 15%, transparent);
  backdrop-filter: blur(18px);
  transition: transform 320ms ease, box-shadow 320ms ease, border-color 320ms ease;
}

.servicesGrid__card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background-image: var(--services-grid-card-sheen);
  background-repeat: no-repeat;
  background-size: 160% 160%;
  background-position: 50% 0%;
  opacity: 0.22;
  mix-blend-mode: screen;
  transition: opacity 320ms ease;
  pointer-events: none;
}

.servicesGrid__card::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  background: linear-gradient(180deg, transparent 0%, color-mix(in oklab, var(--smh-keyline-gold) 8%, transparent) 100%);
  opacity: 0;
  transition: opacity 320ms ease;
  pointer-events: none;
}

.servicesGrid__card:hover,
.servicesGrid__card:focus-within {
  transform: translateY(-4px);
  box-shadow: 0 32px 56px color-mix(in oklab, var(--smh-surface-ink) 20%, transparent);
  border-color: color-mix(in oklab, var(--smh-keyline-gold) 50%, transparent);
}

.servicesGrid__card:hover::after,
.servicesGrid__card:focus-within::after {
  opacity: 0.65;
}

.servicesGrid__card:hover::before,
.servicesGrid__card:focus-within::before {
  opacity: 0.36;
}

.servicesGrid__iconWrap {
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
}

.servicesGrid__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 3.25rem;
  height: 3.25rem;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--smh-keyline-gold) 55%, transparent);
  background: linear-gradient(
      145deg,
      color-mix(in oklab, var(--smh-keyline-gold) 22%, transparent) 0%,
      transparent 100%
    ),
    color-mix(in oklab, var(--smh-surface-glass) 94%, transparent);
  color: var(--smh-keyline-gold);
}

.servicesGrid__content {
  display: grid;
  gap: 0.75rem;
}

.servicesGrid__cardTitle {
  margin: 0;
  font-size: 1.4rem;
  font-family: var(--font-playfair), Georgia, serif;
  letter-spacing: -0.01em;
}

.servicesGrid__cardBody {
  margin: 0;
  line-height: 1.6;
  color: color-mix(in oklab, var(--smh-text) 76%, white);
}

.servicesGrid__cta {
  display: inline-flex;
  align-items: center;
  gap: 0.55rem;
  margin-top: auto;
  align-self: flex-start;
  font-weight: 600;
  font-size: 0.95rem;
  color: color-mix(in oklab, var(--smh-text) 80%, white);
  text-decoration: none;
  transition: color 320ms ease;
}

.servicesGrid__ctaIcon {
  width: 1.25rem;
  height: 1.25rem;
  transition: transform 320ms ease;
}

.servicesGrid__card:hover .servicesGrid__cta,
.servicesGrid__card:focus-within .servicesGrid__cta {
  color: var(--smh-text);
}

.servicesGrid__card:hover .servicesGrid__ctaIcon,
.servicesGrid__card:focus-within .servicesGrid__ctaIcon {
  transform: translateX(4px);
}

@media (prefers-reduced-motion: reduce) {
  .servicesGrid,
  .servicesGrid__card,
  .servicesGrid__cta,
  .servicesGrid__ctaIcon {
    transition: none;
  }

  .servicesGrid__card::before,
  .servicesGrid__card::after {
    transition: none;
  }

  .servicesGrid__card:hover,
  .servicesGrid__card:focus-within {
    transform: none;
    box-shadow: 0 24px 48px color-mix(in oklab, var(--smh-surface-ink) 15%, transparent);
    border-color: color-mix(in oklab, var(--smh-keyline-gold) 35%, transparent);
  }

  .servicesGrid__card:hover::after,
  .servicesGrid__card:focus-within::after {
    opacity: 0;
  }

  .servicesGrid__card:hover::before,
  .servicesGrid__card:focus-within::before {
    opacity: 0.22;
  }

  .servicesGrid__card:hover .servicesGrid__ctaIcon,
  .servicesGrid__card:focus-within .servicesGrid__ctaIcon {
    transform: none;
  }
}

@media (prefers-color-scheme: dark) {
  .servicesGrid__card {
    border-color: color-mix(in oklab, var(--smh-keyline-gold) 50%, transparent);
  }

  .servicesGrid__eyebrow {
    border-color: color-mix(in oklab, var(--smh-keyline-gold) 55%, transparent);
  }

  .servicesGrid__icon {
    border-color: color-mix(in oklab, var(--smh-keyline-gold) 65%, transparent);
  }
}

@media (max-width: 768px) {
  .servicesGrid {
    background-size: 220% 220%, cover, cover, cover;
  }

  .servicesGrid__intro {
    text-align: left;
  }
}

@media (max-width: 640px) {
  .servicesGrid__layout {
    grid-template-columns: 1fr;
  }

  .servicesGrid__backdrop {
    background-image: var(--services-grid-light-overlay);
    background-size: cover;
    background-position: center;
    -webkit-mask-image: var(--smh-wave-mask-mobile);
    mask-image: var(--smh-wave-mask-mobile);
  }
}
